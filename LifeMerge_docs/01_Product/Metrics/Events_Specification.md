North Star Metric – WPAR (Weekly Planning Activity Rate): доля активных пользователей за неделю, которые составили интегрированный план – связали задачу с событием календаря и целью.
Формула: WPAR = (число пользователей с ≥1 связкой «задача+событие+цель» за неделю) / (общее число Weekly Active Users) × 100%.
Обоснование: этот показатель отражает основную ценность продукта – активное еженедельное планирование. Чем выше WPAR, тем больше пользователей полноценно используют приложение для планирования времени, задач и целей, что коррелирует с долгосрочным удержанием.

Удержание на 7-й день (Retention D7): процент новых пользователей, которые возвращаются в приложение через 7 дней после регистрации. Используется для оценки удержания аудитории; целевой уровень – >30% возвращений на 7-й день. <br/>События: отслеживается по повторным визитам пользователя (например, событие App_Open на 7-й день после Signup).

Task-to-Calendar Attachment Rate: доля задач, которые были привязаны к событиям календаря. Формула: (задачи, добавленные в календарь) / (все созданные задачи) × 100%. Показатель демонстрирует, насколько активно пользователи планируют задачи во времени (в календаре). Стремимся повышать этот процент, так как привязка задач к расписанию свидетельствует о глубоком использовании продукта. <br/>События: отслеживается по событиям Task_Created и Task_Scheduled (сколько задач создано и сколько из них размещено на календаре).

Конверсия онбординга и настройки календаря: доля новых пользователей, которые завершили онбординг и создали первую задачу/событие (A1), а также подключили календарь (настроили расписание, этап A2) после регистрации. Важный показатель активации новых пользователей; целевой уровень A1-конверсии – >70%, при времени до достижения A1 < 5 минут. <br/>События: фиксируется событиями Onboarding_Complete (успешное прохождение onboarding) и Calendar_Connected (подключение внешнего календаря) у каждого нового пользователя.

Events_Specification.md
Ключевые продуктовые события (MVP)
event_name	category	trigger_point (когда фиксируется)	parameters (основные)	used_in_dashboards	notes
User_SignUp	Регистрация	Пользователь успешно зарегистрировался (создан аккаунт)	method (тип регистрации),
source (источник трафика)	Воронка активации (Amplitude)	Логируется один раз на пользователя.
Onboarding_Complete	Онбординг	Завершение всех шагов onboarding-процесса	duration (время прохождения, сек)	Воронка онбординга (Amplitude)	Соответствует достижению A1 (частично).
Task_Created	Задачи	Создание новой задачи пользователем	task_id, via (manual/AI)	Product usage (Amplitude, задачи)	Первое создание задачи используется для метрики A1.
Task_Completed	Задачи	Отметка задачи как выполненной	task_id, completion_time	Engagement (Amplitude, активность)	Используется для расчета активных пользователей (≥3 выполненных задач/неделя).
Calendar_Connected	Интеграция календаря	Подключение внешнего календаря (Google/Exchange и т.д.)	calendar_type (например, Google)	Активация A2 (Amplitude), использование	Пользователь настроил синхронизацию расписания.
Task_Scheduled	Задачи/Календарь	Привязка задачи к слоту в календаре (планирование задачи)	task_id, event_id	Feature usage (Amplitude, связь задач-календарь)	Отслеживается для метрики привязки задач к календарю.
Goal_Created	Цели	Создание новой цели пользователем	goal_type (категория/область)	Активация A2 (Amplitude), использование	Логируется при добавлении цели (альтернатива A2, если не подключён календарь).
AI_Planner_Used	AI Planner	Запуск пользователем AI-планировщика задач	tasks_scheduled (число задач в плане)	Feature usage (Amplitude, AI)	Повторное использование показывает ценность AI-планирования.
Finance_Transaction_Added	Финансы	Добавление новой финансовой транзакции	amount, category	Finance module usage (Amplitude)	Показывает вовлечённость в модуль финансов.
Finance_Initialized	Финансы	Завершение начальной настройки финансов (категории/бюджет)	categories_count	Product usage (Amplitude, Finance)	Пользователь начал использовать финансы (заполнил категории расходов).

Формат именования событий: [object]_[action] в UpperCamelCase через underscore. Например: User_SignUp (регистрация пользователя), Task_Completed (выполнение задачи), Calendar_Connected (интеграция календаря). Имена отражают сущность и совершенное действие.

Общие требования к логированию:

Каждое продуктовое событие должно логироваться одновременно в Firebase и Amplitude (дублировать события в обе системы для консистентности данных).

Логируются только значимые действия пользователя: необходимо минимизировать технический шум (не отправлять события о внутренних вызовах, рендерах UI и т.п.).

Вся логика отправки событий должна быть тщательно протестирована: проверяем, что события срабатывают единожды в нужный момент, содержат корректные параметры, и не дублируются. Желательно использовать sandbox/тестовые окружения и debug-режимы аналитики для проверки.

Структура дашбордов MVP на старте

Amplitude (продуктовая аналитика):
– Воронки по ключевым сценариям (регистрация → онбординг → A1/A2) для анализа конверсий.
– Retention: показатели удержания D1, D7, D30 (когортный анализ возвращаемости пользователей).
– North Star Metric: трекинг динамики WPAR по неделям.
– Использование функций: доля пользователей, использующих задачи, календарь, цели, финансы (активность по модулям).
– Отток на онбординге: выявление шагов онбординга с наибольшим отсевом (падение конверсии между этапами).

Firebase (качество и технические метрики):
– Crash-free sessions: процент сессий без сбоев (стабильность приложения).
– Статистика устройств: версия приложения, ОС, модель устройства (для отслеживания технических характеристик аудитории).
– Error rate: уровень ошибок (HTTP 5xx, сбои) на бэкенде и в приложении.
– Доставка push-уведомлений: метрики отправки и открытия push (сколько push доставлено и сколько из них открыто пользователями).

Metabase (бизнес-показатели, при необходимости):
– ARPU (Average Revenue Per User) – средний доход на пользователя (если в MVP предусмотрены платные функции).
– Trial‑to‑Pro конверсия – процент пользователей, перешедших с пробной версии на платную (при наличии подписки).
– LTV (Lifetime Value) – пожизненная ценность пользователя, на основе данных о доходах и удержании.
– Дополнительные аналитические запросы (SQL) для глубокой сегментации и анализа использования, которые не покрываются стандартными дашбордами.